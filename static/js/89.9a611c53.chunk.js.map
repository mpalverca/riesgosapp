{"version":3,"file":"static/js/89.9a611c53.chunk.js","mappings":"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","sources":["routes/analisis/afects/afects.jsx"],"sourcesContent":["import React, { useEffect, useState, useCallback, useMemo } from \"react\";\r\nimport {\r\n  MapContainer,\r\n  TileLayer,\r\n  Marker,\r\n  Popup,\r\n  Polygon,\r\n  useMapEvents,\r\n} from \"react-leaflet\";\r\nimport L from \"leaflet\";\r\nimport {\r\n  Slider,\r\n  Typography,\r\n  Button,\r\n  Box,\r\n  Checkbox,\r\n  FormControlLabel,\r\n  Paper,\r\n  CircularProgress,\r\n  Alert,\r\n} from \"@mui/material\";\r\nimport {\r\n  FaWater,\r\n  FaMountain,\r\n  FaBuilding,\r\n  FaExclamationTriangle,\r\n} from \"react-icons/fa\";\r\nimport { renderToString } from \"react-dom/server\";\r\nimport { divIcon } from \"leaflet\";\r\nimport PropTypes from \"prop-types\";\r\n\r\n// Importaciones locales\r\nimport imageLoad from \"../../../assets/loading_map_3.gif\";\r\nimport { cargardatoformId, generarPDF } from \"./script.js\";\r\nimport { cargarDatosPol } from \"../../../components/maps/script/script.js\";\r\n\r\n// Estilos CSS de Leaflet\r\nimport \"leaflet/dist/leaflet.css\";\r\n\r\n// Configuración de iconos para Leaflet\r\ndelete L.Icon.Default.prototype._getIconUrl;\r\nL.Icon.Default.mergeOptions({\r\n  iconRetinaUrl: require(\"leaflet/dist/images/marker-icon-2x.png\").default,\r\n  iconUrl: require(\"leaflet/dist/images/marker-icon.png\").default,\r\n  shadowUrl: require(\"leaflet/dist/images/marker-shadow.png\").default,\r\n});\r\n\r\n// Constantes y configuraciones\r\nconst DEFAULT_POSITION = [-3.9939, -79.2042];\r\nconst COLOR_PRIORIDAD = {\r\n  Alta: \"#dc3545\",\r\n  Media: \"#ffc107\",\r\n  Baja: \"#28a745\",\r\n  DEFAULT: \"#007bff\",\r\n};\r\n\r\nconst POLYGON_COLORS = {\r\n  tipo1: { color: \"#ffff00\", fillColor: \"#ffff00\", fillOpacity: 0.2 },\r\n  tipo2: { color: \"#0000ff\", fillColor: \"#0000ff\", fillOpacity: 0.2 },\r\n  parroquia: { color: \"#050505\", fillColor: \"#b6b1b1\", fillOpacity: 0.2 },\r\n};\r\n\r\nconst EVENT_ICONS = {\r\n  \"Movimiento en masas\": { icon: FaMountain, color: \"#FF5733\" },\r\n  Inundación: { icon: FaWater, color: \"Blue\" },\r\n  \"Colapso estructural\": { icon: FaBuilding, color: \"Blue\" },\r\n  default: { icon: FaExclamationTriangle, color: \"#080808\" },\r\n};\r\n\r\n// Componente para imagen expandida\r\nconst ExpandedImageModal = ({ src, onClose }) => (\r\n  <div\r\n    style={{\r\n      position: \"fixed\",\r\n      top: 0,\r\n      left: 0,\r\n      right: 0,\r\n      bottom: 0,\r\n      backgroundColor: \"rgba(0,0,0,0.8)\",\r\n      display: \"flex\",\r\n      alignItems: \"center\",\r\n      justifyContent: \"center\",\r\n      zIndex: 9999,\r\n      padding: \"20px\",\r\n    }}\r\n    onClick={onClose}\r\n    role=\"dialog\"\r\n    aria-label=\"Imagen expandida\"\r\n  >\r\n    <div\r\n      style={{\r\n        maxWidth: \"90%\",\r\n        maxHeight: \"90%\",\r\n        position: \"relative\",\r\n      }}\r\n      onClick={(e) => e.stopPropagation()}\r\n    >\r\n      <img\r\n        src={src}\r\n        alt=\"Imagen expandida\"\r\n        style={{\r\n          maxWidth: \"100%\",\r\n          maxHeight: \"90vh\",\r\n          borderRadius: \"8px\",\r\n          boxShadow: \"0 4px 20px rgba(0,0,0,0.25)\",\r\n        }}\r\n      />\r\n      <button\r\n        onClick={onClose}\r\n        style={{\r\n          position: \"absolute\",\r\n          top: \"-15px\",\r\n          right: \"-15px\",\r\n          background: \"#dc3545\",\r\n          color: \"white\",\r\n          border: \"none\",\r\n          borderRadius: \"50%\",\r\n          width: \"30px\",\r\n          height: \"30px\",\r\n          fontSize: \"16px\",\r\n          cursor: \"pointer\",\r\n          display: \"flex\",\r\n          alignItems: \"center\",\r\n          justifyContent: \"center\",\r\n        }}\r\n        aria-label=\"Cerrar imagen\"\r\n      >\r\n        ×\r\n      </button>\r\n    </div>\r\n  </div>\r\n);\r\n\r\nExpandedImageModal.propTypes = {\r\n  src: PropTypes.string.isRequired,\r\n  onClose: PropTypes.func.isRequired,\r\n};\r\n\r\n// Componente de capa de control\r\nconst LayerControl = ({ showLayer, onToggle }) => (\r\n  <Paper\r\n    sx={{\r\n      position: \"absolute\",\r\n      top: 10,\r\n      right: 10,\r\n      zIndex: 1000,\r\n      padding: 2,\r\n      backgroundColor: \"rgba(255, 255, 255, 0.95)\",\r\n      borderRadius: 2,\r\n      boxShadow: 3,\r\n      minWidth: 200,\r\n    }}\r\n  >\r\n    <Typography variant=\"subtitle1\" fontWeight=\"bold\" gutterBottom>\r\n      Control de Capas\r\n    </Typography>\r\n    <FormControlLabel\r\n      control={\r\n        <Checkbox\r\n          checked={showLayer}\r\n          onChange={onToggle}\r\n          color=\"primary\"\r\n          aria-label=\"Mostrar capa de polígonos\"\r\n        />\r\n      }\r\n      label=\"Mostrar capa de polígonos\"\r\n    />\r\n  </Paper>\r\n);\r\n\r\nLayerControl.propTypes = {\r\n  showLayer: PropTypes.bool.isRequired,\r\n  onToggle: PropTypes.func.isRequired,\r\n};\r\n\r\n// Componente principal\r\nconst MapAfects = ({\r\n  afectData = [],\r\n  parroquia = [],\r\n  loading = false,\r\n  error = null,\r\n  coords = [],\r\n  extractCoordinates,\r\n  selectedDate,\r\n  setSelectedDate,\r\n  minFecha,\r\n  maxFecha,\r\n}) => {\r\n  const [expandedImage, setExpandedImage] = useState(null);\r\n  const [user, setUser] = useState(null);\r\n  const [showLayer, setShowLayer] = useState(false);\r\n  const [selectedItem, setSelectedItem] = useState(null);\r\n  const [poligonosData, setPoligonosData] = useState([]);\r\n  const [loadingPoligonos, setLoadingPoligonos] = useState(false);\r\n\r\n  // Cargar usuario desde localStorage\r\n  useEffect(() => {\r\n    try {\r\n      const userData = localStorage.getItem(\"user\");\r\n      if (userData) {\r\n        setUser(JSON.parse(userData));\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Error al cargar usuario:\", error);\r\n    }\r\n  }, []);\r\n\r\n  // Cargar datos de polígonos cuando se activa la capa\r\n  useEffect(() => {\r\n    const loadPoligonos = async () => {\r\n      if (showLayer && poligonosData.length === 0) {\r\n        setLoadingPoligonos(true);\r\n        try {\r\n          const data = await cargarDatosPol();\r\n          setPoligonosData(data || []);\r\n        } catch (error) {\r\n          console.error(\"Error al cargar polígonos:\", error);\r\n        } finally {\r\n          setLoadingPoligonos(false);\r\n        }\r\n      }\r\n    };\r\n\r\n    loadPoligonos();\r\n  }, [showLayer, poligonosData.length]);\r\n\r\n  const handleIconClick = useCallback(async (itemId) => {\r\n    try {\r\n      const itemData = await cargardatoformId(itemId);\r\n      if (itemData) {\r\n        setSelectedItem(itemData);\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Error al cargar datos del item:\", error);\r\n    }\r\n  }, []);\r\n\r\n  const formatCoords = useCallback((coord) => {\r\n    return typeof coord === \"number\" ? coord.toFixed(6) : \"0.000000\";\r\n  }, []);\r\n\r\n  const getEventIcon = useCallback((eventType, priority) => {\r\n    const color = COLOR_PRIORIDAD[priority] || COLOR_PRIORIDAD.DEFAULT;\r\n    const eventConfig = EVENT_ICONS[eventType] || EVENT_ICONS.default;\r\n    const IconComponent = eventConfig.icon;\r\n\r\n    const circleStyle = {\r\n      display: \"flex\",\r\n      alignItems: \"center\",\r\n      justifyContent: \"center\",\r\n      background: color,\r\n      borderRadius: \"50%\",\r\n      width: \"24px\",\r\n      height: \"24px\",\r\n      boxShadow: \"0 2px 8px rgba(0,0,0,0.15)\",\r\n    };\r\n\r\n    const html = renderToString(\r\n      <div style={circleStyle}>\r\n        <IconComponent color={eventConfig.color} size={14} />\r\n      </div>,\r\n    );\r\n\r\n    return divIcon({\r\n      html,\r\n      className: \"custom-leaflet-icon\",\r\n      iconSize: [30, 30],\r\n      iconAnchor: [15, 30],\r\n    });\r\n  }, []);\r\n\r\n  const getEventIconPulso = useCallback((eventType, priority, radio) => {\r\n    const color = COLOR_PRIORIDAD[priority] || COLOR_PRIORIDAD.DEFAULT;\r\n    const eventConfig = EVENT_ICONS[eventType] || EVENT_ICONS.default;\r\n    const IconComponent = eventConfig.icon;\r\n\r\n    // Calcular tamaño basado en el radio\r\n    const baseSize = 40; // Tamaño base en píxeles\r\n    const radioFactor = radio / 25; //Math.min(Math.max(radio / 100, 1), 5); // Factor entre 1 y 5\r\n    const calculatedSize = baseSize * radioFactor;\r\n\r\n    // Tamaños proporcionales\r\n    const outerCircleSize = calculatedSize;\r\n    const middleCircleSize = calculatedSize * 0.75;\r\n    const innerCircleSize = calculatedSize * 0.6;\r\n\r\n    const html = renderToString(\r\n      <div\r\n        style={{\r\n          position: \"relative\",\r\n          width: `${outerCircleSize}px`,\r\n          height: `${outerCircleSize}px`,\r\n          display: \"flex\",\r\n          alignItems: \"center\",\r\n          justifyContent: \"center\",\r\n        }}\r\n      >\r\n        {/* Círculos concéntricos animados - tamaño basado en radio */}\r\n        <div\r\n          style={{\r\n            position: \"absolute\",\r\n            width: `${outerCircleSize}px`,\r\n            height: `${outerCircleSize}px`,\r\n            borderRadius: \"50%\",\r\n            backgroundColor: color,\r\n            opacity: 0.3,\r\n            animation: \"pulse 2s infinite\",\r\n          }}\r\n        />\r\n\r\n        <div\r\n          style={{\r\n            position: \"absolute\",\r\n            width: `${middleCircleSize}px`,\r\n            height: `${middleCircleSize}px`,\r\n            borderRadius: \"50%\",\r\n            backgroundColor: color,\r\n            opacity: 0.5,\r\n            animation: \"pulse 2s infinite\",\r\n            animationDelay: \"0.5s\",\r\n          }}\r\n        />\r\n\r\n        {/* Círculo central con icono */}\r\n        <div\r\n          style={{\r\n            display: \"flex\",\r\n            alignItems: \"center\",\r\n            justifyContent: \"center\",\r\n            background: color,\r\n            borderRadius: \"50%\",\r\n            width: `24px`,\r\n            height: `24px`,\r\n            boxShadow: \"0 2px 8px rgba(0,0,0,0.15)\",\r\n            zIndex: 10,\r\n            position: \"relative\",\r\n          }}\r\n        >\r\n          <IconComponent color=\"white\" size={12} />\r\n        </div>\r\n      </div>,\r\n    );\r\n\r\n    return divIcon({\r\n      html,\r\n      className: `custom-leaflet-icon emergency-alert radio-${Math.round(radio)}`,\r\n      iconSize: [outerCircleSize, outerCircleSize],\r\n      iconAnchor: [outerCircleSize / 2, outerCircleSize],\r\n    });\r\n  }, []);\r\n\r\n  const renderAfectMarkers = useMemo(() => {\r\n    return afectData\r\n      .map((item, index) => {\r\n        try {\r\n          if (!item?.geom) {\r\n            console.warn(\"Item sin geometría:\", item);\r\n            return null;\r\n          }\r\n\r\n          const coords = extractCoordinates?.(item.geom);\r\n          if (\r\n            !coords ||\r\n            typeof coords.lat !== \"number\" ||\r\n            typeof coords.lng !== \"number\"\r\n          ) {\r\n            console.warn(\"Coordenadas inválidas para el item:\", item);\r\n            return null;\r\n          }\r\n\r\n          const eventType = item.event || \"default\";\r\n          const priority = item.prioridad || \"DEFAULT\";\r\n          return (\r\n            <Marker\r\n              key={`marker-${item.id || `index-${index}`}`}\r\n              position={[coords.lat, coords.lng]}\r\n              icon={\r\n                item.radio > 0 &&\r\n                priority == \"Alta\" &&\r\n                item.estado == \"Pendiente\"\r\n                  ? getEventIconPulso(eventType, priority, item.radio)\r\n                  : getEventIcon(eventType, priority)\r\n              }\r\n              eventHandlers={{\r\n                click: () => handleIconClick(item.id),\r\n              }}\r\n            >\r\n              {selectedItem?.id === item.id && (\r\n                <Popup>\r\n                  <div>\r\n                    <h4>{`${item.id} - ${eventType}`}</h4>\r\n\r\n                    {selectedItem.anex_foto && (\r\n                      <div style={{ marginTop: \"10px\", position: \"relative\" }}>\r\n                        {/* Dividir las URLs por coma y procesarlas */}\r\n                        {(() => {\r\n                          // Procesar las imágenes\r\n                          const images = selectedItem.anex_foto\r\n                            .split(\",\")\r\n                            .map((url) => url.trim())\r\n                            .filter((url) => url.length > 0);\r\n\r\n                          // Si solo hay una imagen, mostrarla directamente\r\n                          if (images.length === 1) {\r\n                            return (\r\n                              <div>\r\n                                <img\r\n                                  src={images[0]}\r\n                                  alt={`Imagen de ${selectedItem.nombre || \"afectación\"}`}\r\n                                  style={{\r\n                                    width: \"100%\",\r\n                                    height: \"200px\",\r\n                                    objectFit: \"contain\",\r\n                                    borderRadius: \"4px\",\r\n                                    border: \"1px solid #ddd\",\r\n                                    cursor: \"pointer\",\r\n                                    backgroundColor: \"#f5f5f5\",\r\n                                  }}\r\n                                  onClick={() => setExpandedImage(images[0])}\r\n                                />\r\n                                <p\r\n                                  style={{\r\n                                    fontSize: \"0.8em\",\r\n                                    color: \"#666\",\r\n                                    textAlign: \"center\",\r\n                                    marginTop: \"4px\",\r\n                                  }}\r\n                                >\r\n                                  Haz clic para ampliar\r\n                                </p>\r\n                              </div>\r\n                            );\r\n                          }\r\n\r\n                          // Si hay múltiples imágenes, crear carrusel con JavaScript\r\n                          let currentIndex = 0;\r\n\r\n                          return (\r\n                            <div style={{ height: \"220px\" }}>\r\n                              {/* Contenedor principal con altura fija */}\r\n                              <div\r\n                                id=\"imageCarousel\"\r\n                                style={{\r\n                                  position: \"relative\",\r\n                                  height: \"200px\",\r\n                                }}\r\n                              >\r\n                                {/* Botones de navegación */}\r\n                                {images.length > 1 && (\r\n                                  <>\r\n                                    <button\r\n                                      onClick={(e) => {\r\n                                        e.stopPropagation();\r\n                                        const carousel =\r\n                                          document.getElementById(\r\n                                            \"imageCarousel\",\r\n                                          );\r\n                                        const img =\r\n                                          carousel.querySelector(\"img\");\r\n                                        currentIndex =\r\n                                          currentIndex === 0\r\n                                            ? images.length - 1\r\n                                            : currentIndex - 1;\r\n                                        img.src = images[currentIndex];\r\n                                        const indicator =\r\n                                          document.getElementById(\r\n                                            \"currentIndicator\",\r\n                                          );\r\n                                        if (indicator)\r\n                                          indicator.textContent = `${currentIndex + 1}/${images.length}`;\r\n                                      }}\r\n                                      style={{\r\n                                        position: \"absolute\",\r\n                                        left: \"10px\",\r\n                                        top: \"50%\",\r\n                                        transform: \"translateY(-50%)\",\r\n                                        zIndex: 2,\r\n                                        background: \"rgba(0,0,0,0.5)\",\r\n                                        color: \"white\",\r\n                                        border: \"none\",\r\n                                        borderRadius: \"50%\",\r\n                                        width: \"30px\",\r\n                                        height: \"30px\",\r\n                                        cursor: \"pointer\",\r\n                                        display: \"flex\",\r\n                                        alignItems: \"center\",\r\n                                        justifyContent: \"center\",\r\n                                      }}\r\n                                    >\r\n                                      &lt;\r\n                                    </button>\r\n\r\n                                    <button\r\n                                      onClick={(e) => {\r\n                                        e.stopPropagation();\r\n                                        const carousel =\r\n                                          document.getElementById(\r\n                                            \"imageCarousel\",\r\n                                          );\r\n                                        const img =\r\n                                          carousel.querySelector(\"img\");\r\n                                        currentIndex =\r\n                                          currentIndex === images.length - 1\r\n                                            ? 0\r\n                                            : currentIndex + 1;\r\n                                        img.src = images[currentIndex];\r\n                                        const indicator =\r\n                                          document.getElementById(\r\n                                            \"currentIndicator\",\r\n                                          );\r\n                                        if (indicator)\r\n                                          indicator.textContent = `${currentIndex + 1}/${images.length}`;\r\n                                      }}\r\n                                      style={{\r\n                                        position: \"absolute\",\r\n                                        right: \"10px\",\r\n                                        top: \"50%\",\r\n                                        transform: \"translateY(-50%)\",\r\n                                        zIndex: 2,\r\n                                        background: \"rgba(0,0,0,0.5)\",\r\n                                        color: \"white\",\r\n                                        border: \"none\",\r\n                                        borderRadius: \"50%\",\r\n                                        width: \"30px\",\r\n                                        height: \"30px\",\r\n                                        cursor: \"pointer\",\r\n                                        display: \"flex\",\r\n                                        alignItems: \"center\",\r\n                                        justifyContent: \"center\",\r\n                                      }}\r\n                                    >\r\n                                      &gt;\r\n                                    </button>\r\n                                  </>\r\n                                )}\r\n\r\n                                {/* Imagen principal */}\r\n                                <img\r\n                                  src={images[0]}\r\n                                  alt={`Imagen 1 de ${images.length}`}\r\n                                  style={{\r\n                                    width: \"100%\",\r\n                                    height: \"200px\",\r\n                                    objectFit: \"contain\",\r\n                                    borderRadius: \"4px\",\r\n                                    border: \"1px solid #ddd\",\r\n                                    cursor: \"pointer\",\r\n                                    backgroundColor: \"#f5f5f5\",\r\n                                  }}\r\n                                  onClick={() =>\r\n                                    setExpandedImage(images[currentIndex])\r\n                                  }\r\n                                />\r\n\r\n                                {/* Indicador de posición */}\r\n                                {images.length > 1 && (\r\n                                  <div\r\n                                    style={{\r\n                                      position: \"absolute\",\r\n                                      bottom: \"10px\",\r\n                                      left: \"50%\",\r\n                                      transform: \"translateX(-50%)\",\r\n                                      background: \"rgba(0,0,0,0.7)\",\r\n                                      color: \"white\",\r\n                                      padding: \"2px 10px\",\r\n                                      borderRadius: \"10px\",\r\n                                      fontSize: \"0.8em\",\r\n                                    }}\r\n                                  >\r\n                                    <span id=\"currentIndicator\">\r\n                                      1/{images.length}\r\n                                    </span>\r\n                                  </div>\r\n                                )}\r\n                              </div>\r\n\r\n                              {/* Puntos indicadores */}\r\n                              {images.length > 1 && (\r\n                                <div\r\n                                  style={{\r\n                                    display: \"flex\",\r\n                                    justifyContent: \"center\",\r\n                                    gap: \"6px\",\r\n                                    marginTop: \"8px\",\r\n                                    height: \"12px\",\r\n                                  }}\r\n                                >\r\n                                  {images.map((_, index) => (\r\n                                    <button\r\n                                      key={index}\r\n                                      onClick={(e) => {\r\n                                        e.stopPropagation();\r\n                                        const carousel =\r\n                                          document.getElementById(\r\n                                            \"imageCarousel\",\r\n                                          );\r\n                                        const img =\r\n                                          carousel.querySelector(\"img\");\r\n                                        currentIndex = index;\r\n                                        img.src = images[currentIndex];\r\n                                        const indicator =\r\n                                          document.getElementById(\r\n                                            \"currentIndicator\",\r\n                                          );\r\n                                        if (indicator)\r\n                                          indicator.textContent = `${currentIndex + 1}/${images.length}`;\r\n                                      }}\r\n                                      style={{\r\n                                        width: \"10px\",\r\n                                        height: \"10px\",\r\n                                        borderRadius: \"50%\",\r\n                                        border: \"none\",\r\n                                        backgroundColor:\r\n                                          index === currentIndex\r\n                                            ? \"orange\"\r\n                                            : \"#ccc\",\r\n                                        cursor: \"pointer\",\r\n                                        padding: 0,\r\n                                      }}\r\n                                      aria-label={`Ir a imagen ${index + 1}`}\r\n                                    />\r\n                                  ))}\r\n                                </div>\r\n                              )}\r\n\r\n                              {/* Texto instructivo */}\r\n                              <p\r\n                                style={{\r\n                                  fontSize: \"0.8em\",\r\n                                  color: \"#666\",\r\n                                  textAlign: \"center\",\r\n                                  marginTop: \"4px\",\r\n                                }}\r\n                              >\r\n                                Haz clic en la imagen para ampliar\r\n                              {/*   {images.length > 1 &&\r\n                                  ` (usa las flechas para navegar)`} */}\r\n                              </p>\r\n                            </div>\r\n                          );\r\n                        })()}\r\n                      </div>\r\n                    )}\r\n\r\n                    <p>\r\n                      <strong>Fecha:</strong>{\" \"}\r\n                      {selectedItem.date || \"No disponible\"}\r\n                    </p>\r\n                    <p>\r\n                      <strong>Sector:</strong>{\" \"}\r\n                      {selectedItem.sector || \"No disponible\"}\r\n                    </p>\r\n                    <p>\r\n                      <strong>Ubicación:</strong> {formatCoords(coords.lat)},{\" \"}\r\n                      {formatCoords(coords.lng)}\r\n                    </p>\r\n                    <p>\r\n                      <strong>Prioridad:</strong>\r\n                      <span\r\n                        style={{\r\n                          color:\r\n                            COLOR_PRIORIDAD[priority] ||\r\n                            COLOR_PRIORIDAD.DEFAULT,\r\n                        }}\r\n                      >\r\n                        {\" \"}\r\n                        {priority}\r\n                      </span>\r\n                    </p>\r\n\r\n                    {selectedItem.descripcio && (\r\n                      <p>\r\n                        <strong>Descripción:</strong> {selectedItem.descripcio}\r\n                      </p>\r\n                    )}\r\n\r\n                    {user && (\r\n                      <Button\r\n                        onClick={() =>\r\n                          generarPDF(\r\n                            selectedItem.event,\r\n                            coords.lat,\r\n                            coords.lng,\r\n                            selectedItem,\r\n                            user,\r\n                          )\r\n                        }\r\n                        fullWidth\r\n                        sx={{\r\n                          background:\r\n                            \"linear-gradient(45deg, #FF5733 20%, #FFD700 90%)\",\r\n                          marginTop: \"16px\",\r\n                          fontWeight: \"bold\",\r\n                        }}\r\n                        variant=\"contained\"\r\n                      >\r\n                        Generar Reporte PDF\r\n                      </Button>\r\n                    )}\r\n                  </div>\r\n                </Popup>\r\n              )}\r\n            </Marker>\r\n          );\r\n        } catch (error) {\r\n          console.error(\"Error al renderizar marcador:\", item, error);\r\n          return null;\r\n        }\r\n      })\r\n      .filter(Boolean);\r\n  }, [\r\n    afectData,\r\n    selectedItem,\r\n    user,\r\n    formatCoords,\r\n    getEventIcon,\r\n    handleIconClick,\r\n    extractCoordinates,\r\n  ]);\r\n\r\n  const renderPoligonos = useMemo(() => {\r\n    if (!showLayer || loadingPoligonos) return null;\r\n\r\n    return poligonosData\r\n      .flatMap((item, index) => {\r\n        try {\r\n          if (!item?.geom?.coordinates) return null;\r\n\r\n          return item.geom.coordinates.map((polygon, polyIndex) => {\r\n            const polyCoords = polygon[0].map((coord) => [coord[1], coord[0]]);\r\n            const colors =\r\n              item.tipo === 1 ? POLYGON_COLORS.tipo1 : POLYGON_COLORS.tipo2;\r\n\r\n            return (\r\n              <Polygon\r\n                key={`poligono-${item.id}-${index}-${polyIndex}`}\r\n                positions={polyCoords}\r\n                pathOptions={{\r\n                  color: colors.color,\r\n                  fillColor: colors.fillColor,\r\n                  fillOpacity: colors.fillOpacity,\r\n                  weight: 2,\r\n                }}\r\n              >\r\n                <Popup>\r\n                  <div>\r\n                    <h4>Polígono {item.id}</h4>\r\n                    <p>\r\n                      <strong>Descripción:</strong>{\" \"}\r\n                      {item.Descripcio || \"Sin descripción\"}\r\n                    </p>\r\n                  </div>\r\n                </Popup>\r\n              </Polygon>\r\n            );\r\n          });\r\n        } catch (error) {\r\n          console.error(\"Error al renderizar polígono:\", item, error);\r\n          return null;\r\n        }\r\n      })\r\n      .filter(Boolean);\r\n  }, [poligonosData, showLayer, loadingPoligonos]);\r\n\r\n  const renderParroquiaPolygons = useMemo(() => {\r\n    return parroquia\r\n      .flatMap((item, index) => {\r\n        if (!item?.geom || item.geom.type !== \"MultiPolygon\") return null;\r\n\r\n        return item.geom.coordinates.map((poly, polyIdx) => {\r\n          const polyCoords = poly[0].map((coord) => [coord[1], coord[0]]);\r\n\r\n          return (\r\n            <Polygon\r\n              key={`parroquia-${item.id || index}-${polyIdx}`}\r\n              positions={polyCoords}\r\n              pathOptions={{\r\n                color: POLYGON_COLORS.parroquia.color,\r\n                fillColor: POLYGON_COLORS.parroquia.fillColor,\r\n                fillOpacity: POLYGON_COLORS.parroquia.fillOpacity,\r\n                weight: 2,\r\n              }}\r\n            >\r\n              <Popup>\r\n                <strong>Parroquia:</strong> {item.DPA_DESPAR || \"Sin nombre\"}\r\n              </Popup>\r\n            </Polygon>\r\n          );\r\n        });\r\n      })\r\n      .filter(Boolean);\r\n  }, [parroquia]);\r\n\r\n  // Calcular posición del mapa\r\n  const mapCenter = useMemo(() => {\r\n    if (coords && coords.length >= 2) {\r\n      const lat = parseFloat(coords[0]);\r\n      const lng = parseFloat(coords[1]);\r\n      if (!isNaN(lat) && !isNaN(lng)) {\r\n        return [lat, lng];\r\n      }\r\n    }\r\n    return DEFAULT_POSITION;\r\n  }, [coords]);\r\n\r\n  // Estados de carga y error\r\n  if (loading) {\r\n    return (\r\n      <Box\r\n        display=\"flex\"\r\n        flexDirection=\"column\"\r\n        justifyContent=\"center\"\r\n        alignItems=\"center\"\r\n        minHeight=\"60vh\"\r\n      >\r\n        <img\r\n          src={imageLoad}\r\n          alt=\"Cargando mapa...\"\r\n          //style={{ maxWidth: \"200px\" }}\r\n        />\r\n        <Typography variant=\"body1\" sx={{ mt: 2 }}>\r\n          Cargando datos del mapa...\r\n        </Typography>\r\n      </Box>\r\n    );\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <Alert severity=\"error\" sx={{ m: 2 }}>\r\n        Error: {error}\r\n      </Alert>\r\n    );\r\n  }\r\n\r\n  if (!afectData.length) {\r\n    return (\r\n      <Box\r\n        display=\"flex\"\r\n        flexDirection=\"column\"\r\n        justifyContent=\"center\"\r\n        alignItems=\"center\"\r\n        minHeight=\"60vh\"\r\n        textAlign=\"center\"\r\n        p={3}\r\n      >\r\n        <Typography variant=\"h5\" gutterBottom color=\"textSecondary\">\r\n          No hay datos de afectaciones\r\n        </Typography>\r\n        <Typography variant=\"body1\" color=\"textSecondary\">\r\n          La búsqueda realizada no ha encontrado datos de afectaciones. Por\r\n          favor, intente con otra fecha, prioridad o criterios de búsqueda.\r\n        </Typography>\r\n      </Box>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Box sx={{ position: \"relative\" }}>\r\n      <style>\r\n        {`\r\n          .leaflet-pulse-circle {\r\n            animation: pulse 2s infinite;\r\n            opacity: 0.3;\r\n          }\r\n          \r\n          @keyframes pulse {\r\n            0% {\r\n              transform: scale(0.9);\r\n              opacity: 0.5;\r\n            }\r\n            70% {\r\n              transform: scale(1.2);\r\n              opacity: 0.2;\r\n            }\r\n            100% {\r\n              transform: scale(0.9);\r\n              opacity: 0.5;\r\n            }\r\n          }\r\n        `}\r\n      </style>\r\n\r\n      <LayerControl\r\n        showLayer={showLayer}\r\n        onToggle={(e) => setShowLayer(e.target.checked)}\r\n      />\r\n\r\n      <MapContainer\r\n        center={mapCenter}\r\n        zoom={14}\r\n        style={{ height: \"75vh\", width: \"100%\" }}\r\n        scrollWheelZoom={true}\r\n      >\r\n        <TileLayer\r\n          url=\"https://mt1.google.com/vt/lyrs=s&x={x}&y={y}&z={z}\"\r\n          attribution=\"&copy; Google Maps\"\r\n        />\r\n\r\n        {renderAfectMarkers}\r\n        {renderPoligonos}\r\n        {renderParroquiaPolygons}\r\n\r\n        {loadingPoligonos && (\r\n          <div\r\n            style={{\r\n              position: \"absolute\",\r\n              top: \"10px\",\r\n              left: \"10px\",\r\n              zIndex: 1000,\r\n              background: \"white\",\r\n              padding: \"5px 10px\",\r\n              borderRadius: \"4px\",\r\n              fontSize: \"12px\",\r\n            }}\r\n          >\r\n            Cargando polígonos...\r\n          </div>\r\n        )}\r\n      </MapContainer>\r\n\r\n      {expandedImage && (\r\n        <ExpandedImageModal\r\n          src={expandedImage}\r\n          onClose={() => setExpandedImage(null)}\r\n        />\r\n      )}\r\n\r\n      {minFecha && maxFecha && (\r\n        <Box sx={{ width: \"90%\", margin: \"30px auto 0 auto\" }}>\r\n          <Slider\r\n            value={selectedDate || maxFecha}\r\n            min={minFecha}\r\n            max={maxFecha}\r\n            step={24 * 60 * 60 * 1000}\r\n            onChange={(_, value) => setSelectedDate(value)}\r\n            valueLabelDisplay=\"auto\"\r\n            valueLabelFormat={(value) =>\r\n              new Date(value).toLocaleDateString(\"es-EC\", {\r\n                year: \"numeric\",\r\n                month: \"short\",\r\n                day: \"numeric\",\r\n              })\r\n            }\r\n            sx={{\r\n              color: \"orange\",\r\n              height: 8,\r\n              \"& .MuiSlider-thumb\": {\r\n                backgroundColor: \"#fff\",\r\n                border: \"2px solid orange\",\r\n              },\r\n              \"& .MuiSlider-valueLabel\": {\r\n                backgroundColor: \"orange\",\r\n                color: \"#fff\",\r\n                borderRadius: \"4px\",\r\n                padding: \"4px 8px\",\r\n              },\r\n            }}\r\n          />\r\n          <Box\r\n            sx={{\r\n              display: \"flex\",\r\n              justifyContent: \"space-between\",\r\n              marginTop: \"-10px\",\r\n              fontSize: \"0.75rem\",\r\n              color: \"text.secondary\",\r\n            }}\r\n          >\r\n            <span>\r\n              {new Date(minFecha).toLocaleDateString(\"es-EC\", {\r\n                year: \"numeric\",\r\n                month: \"short\",\r\n                day: \"numeric\",\r\n              })}\r\n            </span>\r\n            <span>\r\n              {new Date(maxFecha).toLocaleDateString(\"es-EC\", {\r\n                year: \"numeric\",\r\n                month: \"short\",\r\n                day: \"numeric\",\r\n              })}\r\n            </span>\r\n          </Box>\r\n        </Box>\r\n      )}\r\n    </Box>\r\n  );\r\n};\r\n\r\n// PropTypes para validación de props\r\nMapAfects.propTypes = {\r\n  afectData: PropTypes.arrayOf(\r\n    PropTypes.shape({\r\n      id: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\r\n      geom: PropTypes.string,\r\n      event: PropTypes.string,\r\n      prioridad: PropTypes.string,\r\n    }),\r\n  ),\r\n  parroquia: PropTypes.arrayOf(\r\n    PropTypes.shape({\r\n      id: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\r\n      geom: PropTypes.shape({\r\n        type: PropTypes.string,\r\n        coordinates: PropTypes.array,\r\n      }),\r\n      DPA_DESPAR: PropTypes.string,\r\n    }),\r\n  ),\r\n  loading: PropTypes.bool,\r\n  error: PropTypes.string,\r\n  coords: PropTypes.arrayOf(\r\n    PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\r\n  ),\r\n  extractCoordinates: PropTypes.func.isRequired,\r\n  selectedDate: PropTypes.number,\r\n  setSelectedDate: PropTypes.func,\r\n  minFecha: PropTypes.number,\r\n  maxFecha: PropTypes.number,\r\n  radioAfect: PropTypes.number,\r\n};\r\n\r\n// Valores por defecto\r\nMapAfects.defaultProps = {\r\n  afectData: [],\r\n  parroquia: [],\r\n  loading: false,\r\n  error: null,\r\n  coords: [],\r\n  selectedDate: null,\r\n  minFecha: null,\r\n  maxFecha: null,\r\n  radioAfect: 1000,\r\n};\r\n\r\nexport default React.memo(MapAfects);\r\n"],"names":["L","Default","prototype","_getIconUrl","mergeOptions","iconRetinaUrl","require","iconUrl","shadowUrl","DEFAULT_POSITION","COLOR_PRIORIDAD","Alta","Media","Baja","DEFAULT","POLYGON_COLORS","tipo1","color","fillColor","fillOpacity","tipo2","parroquia","EVENT_ICONS","icon","FaMountain","Inundación","FaWater","FaBuilding","default","FaExclamationTriangle","ExpandedImageModal","_ref","src","onClose","_jsx","style","position","top","left","right","bottom","backgroundColor","display","alignItems","justifyContent","zIndex","padding","onClick","role","children","_jsxs","maxWidth","maxHeight","e","stopPropagation","alt","borderRadius","boxShadow","background","border","width","height","fontSize","cursor","LayerControl","_ref2","showLayer","onToggle","Paper","sx","minWidth","Typography","variant","fontWeight","gutterBottom","FormControlLabel","control","Checkbox","checked","onChange","label","MapAfects","_ref3","afectData","loading","error","coords","extractCoordinates","selectedDate","setSelectedDate","minFecha","maxFecha","expandedImage","setExpandedImage","useState","user","setUser","setShowLayer","selectedItem","setSelectedItem","poligonosData","setPoligonosData","loadingPoligonos","setLoadingPoligonos","useEffect","userData","localStorage","getItem","JSON","parse","console","async","length","data","cargarDatosPol","loadPoligonos","handleIconClick","useCallback","itemData","cargardatoformId","itemId","formatCoords","coord","toFixed","getEventIcon","eventType","priority","eventConfig","IconComponent","circleStyle","html","renderToString","size","divIcon","className","iconSize","iconAnchor","getEventIconPulso","radio","calculatedSize","outerCircleSize","middleCircleSize","opacity","animation","animationDelay","Math","round","renderAfectMarkers","useMemo","map","item","index","geom","warn","lat","lng","event","prioridad","Marker","estado","eventHandlers","click","id","Popup","anex_foto","marginTop","images","split","url","trim","filter","nombre","objectFit","textAlign","currentIndex","_Fragment","img","document","getElementById","querySelector","indicator","textContent","transform","gap","_","date","sector","descripcio","Button","generarPDF","fullWidth","Boolean","renderPoligonos","flatMap","_item$geom","coordinates","polygon","polyIndex","polyCoords","colors","tipo","Polygon","positions","pathOptions","weight","Descripcio","renderParroquiaPolygons","type","poly","polyIdx","DPA_DESPAR","mapCenter","parseFloat","isNaN","Box","flexDirection","minHeight","imageLoad","mt","Alert","severity","m","target","MapContainer","center","zoom","scrollWheelZoom","TileLayer","attribution","margin","Slider","value","min","max","step","valueLabelDisplay","valueLabelFormat","Date","toLocaleDateString","year","month","day","p","defaultProps","radioAfect","React"],"sourceRoot":""}